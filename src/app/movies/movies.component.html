<!-- <ng-container *ngIf="flag=='Search'; then upd"></ng-container> -->
<ng-container *ngIf="flag=='AllRecords';"></ng-container>
<nav class="navbar navbar-light bg-primary">
  <div class="container-fluid">
    
      <h1 style="color:#fff;" class="navbar-brand">Movie Management System</h1>

    <!-- <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" #row placeholder="Search"  aria-label="Search">
        <button class="btn btn-success"   (click)="SearchMov(row)" type="submit">Search</button>
      </form> -->
      
      <div class="d-flex">

          <button *ngIf="role==='Admin'" type="button" id="add-btn" class="btn btn-success" (click)="clickAddMovies()" data-bs-toggle="modal" data-bs-target="#exampleModal">Add Movies</button>
          <button routerLink="/login" class="btn btn-danger mx-3">Logout</button>
      </div>
  </div>
</nav>

<table class="table mt-3">
  <thead>
      <tr>
          <th scope="col">Id</th>
          <th scope="col">Title</th>
          <th scope="col">Genre</th>
          <th scope="col">LeadActor</th>
          <th scope="col">Language</th>
          <th scope="col">Rating</th>
          <th scope="col">ReleaseYear</th>
          <th scope="col" *ngIf="role==='Admin'">Action</th>
      </tr>
  </thead>
  <tbody>
 
      <tr *ngFor="let row of moviesData">

          <td>{{row.id}}</td>
          <td>{{row.title}}</td>
          <td>{{row.genre}}</td>
          <td>{{row.leadActor}}</td>
          <td>{{row.language}}</td>
          <td>{{row.rating}}</td>
          <td>{{row.releaseYear}}</td>
          <td>
              <button  *ngIf="role==='Admin'" style="color: rgb(238, 254, 246);" data-bs-toggle="modal" data-bs-target="#exampleModal" class="btn btn-info" (click)="onEdit(row)">Edit</button>
              <button *ngIf="role==='Admin'" style="color: rgb(238, 254, 246);" class="btn btn-danger mx-3" (click)="deleteMoviesDetail(row)">Delete</button>
          </td>
      </tr>
  </tbody>
    
</table>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title">Movies Details</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form [formGroup]="formValue">
                  <div class="mb-3">
                      <label for="exampleInputEmail1" class="form-label">Id</label>
                      <input type="text" formControlName="id" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                  </div>
                  <div class="mb-3">
                      <label for="exampleInputPassword1" class="form-label">Title</label>
                      <input type="text" formControlName="title" class="form-control" id="exampleInputPassword1">
                  </div>
                  <div class="mb-3">
                      <label for="exampleInputEmail1" class="form-label">Genre</label>
                      <input type="text" formControlName="genre" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
                  </div>
                  <div class="mb-3">
                      <label for="exampleInputEmail1" class="form-label">Lead Actor</label>
                      <input type="text" formControlName="leadActor" class="form-control" id="exampleInputEmail1">
                  </div>
                  <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Language</label>
                    <input type="text" formControlName="language" class="form-control" id="exampleInputEmail1">
                </div>
                  <div class="mb-3">
                      <label for="exampleInputPassword1" class="form-label">Rating</label>
                      <input type="text" formControlName="rating" class="form-control" id="exampleInputPassword1">
                  </div>
                  <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">ReleaseYear</label>
                    <input type="text" formControlName="releaseYear" class="form-control" id="exampleInputPassword1">
                </div>
              </form>
          </div>
          <div class="modal-footer">
            <button id="close" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button"  *ngIf="showAdd"  (click)="postMoviesDetails()" class="btn btn-primary">Add</button>
            <button type="button" *ngIf="showUpdate" (click)="editMoviesDetail()" class="btn btn-primary">Update</button>
        </div>
    </div>
  </div>
</div>


<button style="color: rgb(84, 52, 198);"  routerLink="/search" class="btn btn-info"><a>Search Movies Record ? Click Here</a></button>

<ng-template #upd>
<table>

<tr>
  <td>Search Movies<input type="text" #id type="search">
    <button  class="btn btn-primary" (click)="SearchMov(id)">Search</button></td>
</tr>

  </table> -->
  <!-- <table>

  <tr>
      <td>Id</td>
      <th>{{data.Id}}</th>
  </tr>
    <tr>
      <td>Title</td>
      <th>{{data.Title}}</th>
    </tr>
    <tr>
      <td>Genre</td>
      <th>{{data.Genre}}</th>
    </tr>
    <tr>
      <td>Leadactor</td>
      <th>{{data.LeadActor}}</th>
    </tr>
    <tr>
      <td>Rating</td>
      <th>{{data.Rating}}</th>
    </tr>
    <tr>
      <td>ReleaseYear</td>
      <th>{{data.ReleaseYear}}</th>
    </tr>

  </table> -->
  <!-- <button  class="btn btn-close" (click)="backToRecords()"></button> -->
  <!-- <a role="button" (click)="backToRecords()">Back</a> -->
<!-- </ng-template> -->


<!-- <a role="button" (click)="search_movies()">Search Movies Record ? Click Here</a>
<ng-template #upd>
<table>

<tr>
  <td>Enter Movies id to search <input type="text" #id>
    <button (click)="SearchMov(id.value)">Search</button></td>
</tr>

  </table>
  <table >

    <tr>
      <td>Id</td>
      <td><input #id value={{obj.Id}}></td>
    </tr>
    
    <tr>
      <td>Title</td>
      <td><input #title value={{obj.Title}}></td>
    </tr>
    
    <tr>
      <td>Genre</td>
      <td><input #gen value={{obj.Genre}}></td>
    </tr>
    
    <tr>
        <td>LeadActor</td>
        <td><input type="text" #la value={{obj.LeadActor}}></td>
      </tr>
    
      <tr>
        <td>Rating</td>
        <td><input type="text" #rat value={{obj.Rating}}></td>
      </tr>

      <tr>
        <td>ReleaseYear</td>
        <td><input type="text" #ry value={{obj.ReleaseYear}}></td>
      </tr>
    
    </table>
    <a role="button" (click)="backToRecords()">Back</a>
  </ng-template> -->







<!-- <footer class="bg-dark text-center text-white"> -->
    <!-- Grid container -->
    <!-- <div class="container p-4 pb-0">
      
    </div> -->
    <!-- Grid container -->
  
    <!-- Copyright -->
    <!-- <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      Â© 2022 Copyright:
      <a class="text-white">MMS</a>
    </div> -->
    <!-- Copyright -->
  <!-- </footer> -->
<!-- <h2>Search Movie</h2>
<table border="1" bgcolor="yellow" width="50%">
  <tr>
    <td>Enter Movies id to Search<input type="text">
    <button (click)="getMoviesDetails()">Search</button>
    </td>
  </tr>
</table>
<table border="1" bgcolor="yellow" width="50%">
  <tr>
    <td>Id</td>
    <td><input type="text" value={{obj.id}}></td>
  </tr>
  <tr>
    <td>Title</td>
    <td><input type="text"  value={{obj.title}}></td>
  </tr>
  <tr>
    <td>Genre</td>
    <td><input type="text" #pmdl3 value={{obj.genre}}></td>
  </tr>
  <tr>
      <td>Lead Actor</td>
      <td><input type="text" value={{obj.leadActor}}></td>
  </tr>
  <tr>
      <td>Rating</td>
      <td><input type="text" value={{obj.rating}}></td>
  </tr>
  <tr>
    <td>Release Year</td>
    <td><input type="text" value={{obj.releaseYear}}></td>
</tr>

</table>  -->
